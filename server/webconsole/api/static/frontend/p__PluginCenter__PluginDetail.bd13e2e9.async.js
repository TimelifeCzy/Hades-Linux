"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[942],{5966:function(K,g,e){var O=e(1413),_=e(91),F=e(67294),a=e(46362),M=e(85893),d=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],c="text",E=function(i){var v=i.fieldProps,p=i.proFieldProps,D=(0,_.Z)(i,d);return(0,M.jsx)(a.Z,(0,O.Z)({valueType:c,fieldProps:v,filedConfig:{valueType:c},proFieldProps:p},D))},h=function(i){var v=i.fieldProps,p=i.proFieldProps,D=(0,_.Z)(i,l);return(0,M.jsx)(a.Z,(0,O.Z)({valueType:"password",fieldProps:v,proFieldProps:p,filedConfig:{valueType:c}},D))},P=E;P.Password=h,P.displayName="ProFormComponent",g.Z=P},56787:function(K,g,e){e.r(g);var O=e(19632),_=e.n(O),F=e(5574),a=e.n(F),M=e(12121),d=e(72538),l=e(37476),c=e(34994),E=e(5966),h=e(67294),P=e(30381),T=e.n(P),i=e(80737),v=e(65360),p=e(12461),D=e(71577),C=e(25035),L=e(24969),A=e(49748),u=e(85893),W=function(){var R=i.Z.useForm(),j=a()(R,1),r=j[0],t=[],o=(0,h.useState)(t),s=a()(o,2),n=s[0],S=s[1],G=(0,h.useState)(0),H=a()(G,2),U=H[0],Z=H[1],$=[{title:"\u63D2\u4EF6\u540D\u79F0",dataIndex:"name"},{title:"\u7248\u672C",search:!1,dataIndex:"pversion"},{title:"\u54C8\u5E0C",search:!1,dataIndex:"sha256",width:"30%"},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,dataIndex:"create_at",renderText:function(f){var m=new Date(f*1e3);return T()(m).utc(!0).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u66F4\u6539\u65F6\u95F4",search:!1,dataIndex:"modify_at",renderText:function(f){var m=new Date(f*1e3);return T()(m).utc(!0).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64CD\u4F5C",search:!1,valueType:"option",key:"option",render:function(f,m,b,Y){return[(0,u.jsx)(v.Z,{title:"\u662F\u5426\u5220\u9664\u8BE5\u63D2\u4EF6",onConfirm:function(w){(0,A.sk)({params:{name:m.name,pversion:m.pversion}}).then(function(x){x.code===0?(p.ZP.success("\u5220\u9664\u6210\u529F"),Z(U+1)):p.ZP.error("\u5220\u9664\u5931\u8D25")})},icon:(0,u.jsx)(C.Z,{style:{color:"red"}}),children:(0,u.jsx)("a",{href:"#",children:"\u5220\u9664"})})]}}];return(0,h.useEffect)(function(){var B=(0,A.UV)();B.then(function(f){var m,b=f==null||(m=f.data)===null||m===void 0?void 0:m.plugins;if(console.log("data:",f),b!==void 0)return S(b),b})},[U]),(0,u.jsx)(M._z,{children:(0,u.jsx)(d.Z,{columns:$,options:!1,dataSource:n,search:{defaultCollapsed:!1,labelWidth:"auto",optionRender:function(f,m,b){return[(0,u.jsxs)(l.Y,{title:"\u65B0\u5EFA\u63D2\u4EF6",trigger:(0,u.jsxs)(D.Z,{type:"primary",children:[(0,u.jsx)(L.Z,{}),"\u65B0\u5EFA\u63D2\u4EF6"]}),form:r,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(y){var w=(0,A.LH)("/api/v1/plugin/insert",{method:"POST",data:JSON.stringify({sha256:y.sha256,name:y.name,pversion:y.pversion,urls:y.urls.split(",")}),headers:{"Content-Type":"application/json"}}).then(function(x){return x.code===0?(p.ZP.success("\u63D0\u4EA4\u6210\u529F"),Z(U+1),!0):!1});return w},children:[(0,u.jsx)(c.A.Group,{children:(0,u.jsx)(E.Z,{width:"md",name:"name",label:"\u63D2\u4EF6\u540D\u79F0",labelAlign:"left",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"}]})}),(0,u.jsx)(c.A.Group,{children:(0,u.jsx)(E.Z,{width:"md",name:"pversion",label:"\u63D2\u4EF6\u7248\u672C",placeholder:"\u8BF7\u8F93\u5165\u7248\u672C",rules:[{required:!0}]})}),(0,u.jsx)(c.A.Group,{children:(0,u.jsx)(E.Z,{width:"md",name:"urls",label:"\u4E0B\u8F7D\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u7248\u672C",rules:[{required:!0,type:"string"}]})}),(0,u.jsx)(c.A.Group,{children:(0,u.jsx)(E.Z,{width:"md",name:"sha256",label:"SHA256",placeholder:"\u8BF7\u8F93\u5165sha256",rules:[{required:!0}]})})]})].concat(_()(b.reverse()))}}})})};g.default=W},49748:function(K,g,e){e.d(g,{Ek:function(){return c},LH:function(){return W},Nh:function(){return R},UV:function(){return D},ZN:function(){return A},Zs:function(){return h},nc:function(){return v},pi:function(){return T},sk:function(){return L}});var O=e(15009),_=e.n(O),F=e(97857),a=e.n(F),M=e(99289),d=e.n(M),l=e(80854);function c(r){return E.apply(this,arguments)}function E(){return E=d()(_()().mark(function r(t){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/v1/grpc/conn/count",a()({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),E.apply(this,arguments)}function h(r,t){return P.apply(this,arguments)}function P(){return P=d()(_()().mark(function r(t,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/grpc/conn/basic",a()({method:"GET",params:a()({},t)},o||{})));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function T(r,t){return i.apply(this,arguments)}function i(){return i=d()(_()().mark(function r(t,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/grpc/conn/stat",a()({method:"GET",params:a()({},t)},o||{})));case 1:case"end":return n.stop()}},r)})),i.apply(this,arguments)}function v(r,t){return p.apply(this,arguments)}function p(){return p=d()(_()().mark(function r(t,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/plugin/send",a()({method:"POST",data:JSON.stringify({name:t.name,pversion:t.pversion,agent_id:t.agent_id,action:t.action}),headers:{"Content-Type":"application/json"}},o||{})));case 1:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function D(r){return C.apply(this,arguments)}function C(){return C=d()(_()().mark(function r(t){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/v1/plugin/list",a()({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),C.apply(this,arguments)}function L(r){return(0,l.request)("/api/v1/plugin/delete",a()({method:"GET"},r||{}))}function A(r){return u.apply(this,arguments)}function u(){return u=d()(_()().mark(function r(t){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/v1/application/dashboard",a()({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),u.apply(this,arguments)}function W(r,t){return I.apply(this,arguments)}function I(){return I=d()(_()().mark(function r(t,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)(t,a()({},o||{})));case 1:case"end":return n.stop()}},r)})),I.apply(this,arguments)}function R(r,t){return j.apply(this,arguments)}function j(){return j=d()(_()().mark(function r(t,o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/asset/get",a()({method:"GET",params:t},o||{})));case 1:case"end":return n.stop()}},r)})),j.apply(this,arguments)}}}]);
