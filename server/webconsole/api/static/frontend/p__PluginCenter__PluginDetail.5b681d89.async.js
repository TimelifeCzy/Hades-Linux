"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[942],{5966:function(x,g,e){var O=e(1413),_=e(91),F=e(67294),u=e(61699),M=e(85893),d=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],c="text",E=function(o){var h=o.fieldProps,p=o.proFieldProps,D=(0,_.Z)(o,d);return(0,M.jsx)(u.Z,(0,O.Z)({valueType:c,fieldProps:h,filedConfig:{valueType:c},proFieldProps:p},D))},v=function(o){var h=o.fieldProps,p=o.proFieldProps,D=(0,_.Z)(o,i);return(0,M.jsx)(u.Z,(0,O.Z)({valueType:"password",fieldProps:h,proFieldProps:p,filedConfig:{valueType:c}},D))},P=E;P.Password=v,P.displayName="ProFormComponent",g.Z=P},56787:function(x,g,e){e.r(g);var O=e(19632),_=e.n(O),F=e(5574),u=e.n(F),M=e(12121),d=e(89129),i=e(47375),c=e(97269),E=e(5966),v=e(67294),P=e(30381),T=e.n(P),o=e(80737),h=e(65360),p=e(12461),D=e(71577),b=e(25035),I=e(24969),j=e(49748),s=e(85893),L=function(){var n=o.Z.useForm(),t=u()(n,1),l=t[0],a=[],r=(0,v.useState)(a),U=u()(r,2),S=U[0],w=U[1],G=(0,v.useState)(0),K=u()(G,2),W=K[0],H=K[1],$=[{title:"\u63D2\u4EF6\u540D\u79F0",dataIndex:"name"},{title:"\u7248\u672C",search:!1,dataIndex:"pversion"},{title:"\u54C8\u5E0C",search:!1,dataIndex:"sha256",width:"30%"},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,dataIndex:"create_at",renderText:function(f){var m=new Date(f*1e3);return T()(m).utc(!0).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u66F4\u6539\u65F6\u95F4",search:!1,dataIndex:"modify_at",renderText:function(f){var m=new Date(f*1e3);return T()(m).utc(!0).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64CD\u4F5C",search:!1,valueType:"option",key:"option",render:function(f,m,C,Y){return[(0,s.jsx)(h.Z,{title:"\u662F\u5426\u5220\u9664\u8BE5\u63D2\u4EF6",onConfirm:function(Z){(0,j.sk)({params:{name:m.name,pversion:m.pversion}}).then(function(R){R.code===0?(p.ZP.success("\u5220\u9664\u6210\u529F"),H(W+1)):p.ZP.error("\u5220\u9664\u5931\u8D25")})},icon:(0,s.jsx)(b.Z,{style:{color:"red"}}),children:(0,s.jsx)("a",{href:"#",children:"\u5220\u9664"})})]}}];return(0,v.useEffect)(function(){var A=(0,j.UV)();A.then(function(f){var m,C=f==null||(m=f.data)===null||m===void 0?void 0:m.plugins;if(console.log("data:",f),C!==void 0)return w(C),C})},[W]),(0,s.jsx)(M._z,{children:(0,s.jsx)(d.Z,{columns:$,options:!1,dataSource:S,search:{defaultCollapsed:!1,labelWidth:"auto",optionRender:function(f,m,C){return[(0,s.jsxs)(i.Y,{title:"\u65B0\u5EFA\u63D2\u4EF6",trigger:(0,s.jsxs)(D.Z,{type:"primary",children:[(0,s.jsx)(I.Z,{}),"\u65B0\u5EFA\u63D2\u4EF6"]}),form:l,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(B){var Z=(0,j.LH)("/api/v1/plugin/insert",{method:"POST",data:JSON.stringify({sha256:B.sha256,name:B.name,pversion:B.pversion,urls:B.urls.split(",")}),headers:{"Content-Type":"application/json"}}).then(function(R){return R.code===0?(p.ZP.success("\u63D0\u4EA4\u6210\u529F"),H(W+1),!0):!1});return Z},children:[(0,s.jsx)(c.A.Group,{children:(0,s.jsx)(E.Z,{width:"md",name:"name",label:"\u63D2\u4EF6\u540D\u79F0",labelAlign:"left",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"}]})}),(0,s.jsx)(c.A.Group,{children:(0,s.jsx)(E.Z,{width:"md",name:"pversion",label:"\u63D2\u4EF6\u7248\u672C",placeholder:"\u8BF7\u8F93\u5165\u7248\u672C",rules:[{required:!0}]})}),(0,s.jsx)(c.A.Group,{children:(0,s.jsx)(E.Z,{width:"md",name:"urls",label:"\u4E0B\u8F7D\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u7248\u672C",rules:[{required:!0,type:"string"}]})}),(0,s.jsx)(c.A.Group,{children:(0,s.jsx)(E.Z,{width:"md",name:"sha256",label:"SHA256",placeholder:"\u8BF7\u8F93\u5165sha256",rules:[{required:!0}]})})]})].concat(_()(C.reverse()))}}})})};g.default=L},49748:function(x,g,e){e.d(g,{Ek:function(){return c},LH:function(){return j},Nh:function(){return L},UV:function(){return D},Zs:function(){return v},nc:function(){return h},pi:function(){return T},sk:function(){return I}});var O=e(15009),_=e.n(O),F=e(97857),u=e.n(F),M=e(99289),d=e.n(M),i=e(80854);function c(n){return E.apply(this,arguments)}function E(){return E=d()(_()().mark(function n(t){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("/api/v1/grpc/conn/count",u()({method:"GET"},t||{})));case 1:case"end":return a.stop()}},n)})),E.apply(this,arguments)}function v(n,t){return P.apply(this,arguments)}function P(){return P=d()(_()().mark(function n(t,l){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/api/v1/grpc/conn/basic",u()({method:"GET",params:u()({},t)},l||{})));case 1:case"end":return r.stop()}},n)})),P.apply(this,arguments)}function T(n,t){return o.apply(this,arguments)}function o(){return o=d()(_()().mark(function n(t,l){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/api/v1/grpc/conn/stat",u()({method:"GET",params:u()({},t)},l||{})));case 1:case"end":return r.stop()}},n)})),o.apply(this,arguments)}function h(n,t){return p.apply(this,arguments)}function p(){return p=d()(_()().mark(function n(t,l){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/api/v1/plugin/send",u()({method:"POST",data:JSON.stringify({name:t.name,pversion:t.pversion,agent_id:t.agent_id,action:t.action}),headers:{"Content-Type":"application/json"}},l||{})));case 1:case"end":return r.stop()}},n)})),p.apply(this,arguments)}function D(n){return b.apply(this,arguments)}function b(){return b=d()(_()().mark(function n(t){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("/api/v1/plugin/list",u()({method:"GET"},t||{})));case 1:case"end":return a.stop()}},n)})),b.apply(this,arguments)}function I(n){return(0,i.request)("/api/v1/plugin/delete",u()({method:"GET"},n||{}))}function j(n,t){return s.apply(this,arguments)}function s(){return s=d()(_()().mark(function n(t,l){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)(t,u()({},l||{})));case 1:case"end":return r.stop()}},n)})),s.apply(this,arguments)}function L(n,t){return y.apply(this,arguments)}function y(){return y=d()(_()().mark(function n(t,l){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/api/v1/asset/get",u()({method:"GET",params:t},l||{})));case 1:case"end":return r.stop()}},n)})),y.apply(this,arguments)}}}]);
