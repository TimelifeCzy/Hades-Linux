"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[906],{88196:function(be,F,a){a.r(F),a.d(F,{default:function(){return se}});var G=a(15009),g=a.n(G),Y=a(99289),M=a.n(Y),H=a(97857),b=a.n(H),$=a(13769),z=a.n($),K=a(5574),Z=a.n(K),y=a(35312);function ye(v){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function v(r){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/api/v1/record",_objectSpread({method:"GET"},r||{})));case 1:case"end":return d.stop()}},v)})),I.apply(this,arguments)}function O(v){return R.apply(this,arguments)}function R(){return R=M()(g()().mark(function v(r){return g()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,y.request)("/api/v1/home",b()({method:"GET"},r||{})));case 1:case"end":return d.stop()}},v)})),R.apply(this,arguments)}var S=a(43929),L=a(1210),w=a(88641),U=a(37653),V=a(9917),i=a(38345),c=a(6466),X=a(39880),J=a(9361),W=a(78957),N=a(66309),D=a(2453),Q=a(14726),E=a(12845),q=a(6767),T=a.n(q),_=a(27484),P=a.n(_),ee=a(9220),x=a(67294),e=a(85893),re=["titleId","children"],te=["titleId","color","value"],ae=function(){var r=(0,y.useIntl)(),C=(0,x.useState)([]),d=Z()(C,2),l=d[0],ne=d[1],oe=(0,x.useState)([]),A=Z()(oe,2),ie=A[0],de=A[1],le=J.Z.useToken(),ve=le.token,ue=(0,y.useModel)("@@initialState"),xe=ue.initialState,me=(0,x.useState)(!1),B=Z()(me,2),pe=B[0],he=B[1],ce=(0,x.useRef)(),p=function(t){var s=t.titleId,n=t.children,m=z()(t,re),h=(0,y.useIntl)();return(0,e.jsx)(i.Z,b()(b()({layout:"center",title:(0,e.jsx)("span",{style:{fontSize:14,color:"#87888A",fontWeight:"normal"},children:h.formatMessage({id:s})}),headStyle:{backgroundColor:"#F6F7FB"},bodyStyle:{backgroundColor:"#F6F7FB",fontSize:24,fontWeight:"bolder"},hoverable:!0,bordered:!0},m),{},{children:n}))},j=function(t){var s=t.titleId,n=t.color,m=t.value,h=z()(t,te),f=(0,y.useIntl)();return(0,e.jsx)(c.Z,{style:{textAlign:"center",borderRadius:8,fontWeight:"bolder",WebkitTextFillColor:T()(n).darken(.42).hex(),borderColor:T()(n).lighten(.28).hex(),backgroundColor:T()(n).lighten(.28).hex(),fontSize:18,borderWidth:1.5},statistic:{title:f.formatMessage({id:s}),value:m},hoverable:!0,bordered:!0})};p.isProCard=!0,j.isProCard=!0;var fe=[{title:r.formatMessage({id:"dashboard.summary.table.instanceId"}),dataIndex:"instanceId",copyable:!0,ellipsis:!0,width:"14%"},{title:r.formatMessage({id:"dashboard.summary.table.title"}),dataIndex:"title",copyable:!0,ellipsis:!0},{disable:!0,title:r.formatMessage({id:"dashboard.summary.table.status"}),dataIndex:"status",filters:!0,onFilter:!0,ellipsis:!0,search:!1,valueType:"select",valueEnum:{open:{text:r.formatMessage({id:"dashboard.summary.open"}),status:"Error"},closed:{text:r.formatMessage({id:"dashboard.summary.closed"}),status:"Success"},processing:{text:r.formatMessage({id:"dashboard.summary.processing"}),status:"Processing"}},width:"12%"},{disable:!0,title:r.formatMessage({id:"dashboard.summary.table.labels"}),dataIndex:"labels",search:!1,renderFormItem:function(t,s){var n=s.defaultRender;return n(t)},render:function(t,s){return(0,e.jsx)(W.Z,{children:s.labels&&s.labels.length>0?s.labels.map(function(n,m){return(0,e.jsx)(N.Z,{color:"#E4F3E0",style:{color:"#199B00"},children:n},m)}):""})},width:"12%"},{title:r.formatMessage({id:"dashboard.summary.table.time"}),key:"showTime",dataIndex:"time",valueType:"date",sorter:!0,hideInSearch:!0,render:function(t,s){return P().unix(s.time).format("YYYY-MM-DD HH:mm:ss")}},{title:r.formatMessage({id:"dashboard.summary.table.time"}),dataIndex:"time",valueType:"dateRange",hideInTable:!0,search:{transform:function(t){return{startTime:t[0],endTime:t[1]}}},width:"15%"},{title:r.formatMessage({id:"dashboard.summary.table.operation"}),valueType:"option",key:"option",render:function(t,s,n,m){return[(0,e.jsx)("a",{onClick:function(){},children:r.formatMessage({id:"dashboard.summary.table.operation.confirm"})},"confirm"),(0,e.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:r.formatMessage({id:"dashboard.summary.table.operation.detail"})},"view"),(0,e.jsx)("a",{onClick:function(){},children:r.formatMessage({id:"dashboard.summary.table.operation.ignore"})},"ignore")]},width:"15%"}];(0,x.useEffect)(function(){var o=function(){var t=M()(g()().mark(function s(){var n,m,h;return g()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,O();case 3:n=u.sent,ne(n.data),m=n.data.record,h=m.map(function(k){return{children:(0,e.jsxs)("span",{style:{fontSize:12},children:[P().unix(k.gmt_create).format("YYYY-MM-DD HH:mm:ss")," - ",k.message]}),color:"green"}}),de(h),u.next=13;break;case 10:u.prev=10,u.t0=u.catch(0),u.t0 instanceof Error?D.ZP.error("Error fetching data: ".concat(u.t0.message)):D.ZP.error("An unknown error occurred");case 13:case"end":return u.stop()}},s,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}();o()},[]);var ge={data:Array.isArray(l==null?void 0:l.alert)?l.alert:[],height:240,xField:"time",yField:"value",style:{lineWidth:2},axis:{x:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(t){return"".concat(t.split("-").slice(1).join("-"))}},y:{line:!0,arrow:!1,lineLineWidth:1}}};return(0,e.jsx)(ee.Z,{onResize:function(t){he(t.width<596)},children:(0,e.jsxs)(i.Z,{gutter:16,ghost:!0,children:[(0,e.jsxs)(i.Z,{split:"horizontal",colSpan:15,style:{borderRadius:8},gutter:[0,20],ghost:!0,children:[(0,e.jsxs)(i.Z,{style:{borderRadius:8},title:r.formatMessage({id:"dashboard.summary.overview"}),extra:(0,e.jsxs)("a",{href:"/dashboard",children:[r.formatMessage({id:"dashboard.summary.detail"})," ",(0,e.jsx)(S.Z,{})]}),gutter:24,hoverable:!0,bordered:!0,children:[(0,e.jsx)(p,{titleId:"dashboard.summary.onlinehosts",children:l.host_online||0}),(0,e.jsx)(p,{titleId:"dashboard.summary.offlinehosts",children:l.host_offline||0}),(0,e.jsx)(p,{titleId:"dashboard.summary.containers",children:l.container||0}),(0,e.jsx)(p,{titleId:"dashboard.summary.services",children:l.service||0})]}),(0,e.jsxs)(i.Z,{title:r.formatMessage({id:"dashboard.summary.risktrends"}),subTitle:r.formatMessage({id:"dashboard.summary.risktrendssubtitle"}),headerBordered:!0,hoverable:!0,gutter:[16,16],extra:(0,e.jsxs)("a",{href:"/dashboard",children:[r.formatMessage({id:"dashboard.summary.detail"})," ",(0,e.jsx)(S.Z,{})]}),children:[(0,e.jsx)(i.Z,{split:"horizontal",colSpan:"50%",style:{borderRadius:8,borderWidth:2},bordered:!0,hoverable:!0,children:(0,e.jsx)(c.Z,{chart:(0,e.jsx)(V.Z,b()({},ge))})}),(0,e.jsxs)(i.Z,{split:"horizontal",gutter:16,colSpan:"50%",children:[(0,e.jsx)(i.Z,{split:"vertical",style:{marginTop:24,marginBottom:24},hoverable:!0,children:(0,e.jsxs)(c.Z.Group,{gutter:16,children:[(0,e.jsx)(j,{titleId:"dashboard.summary.critical",color:"#FF4D4E",value:l.critical}),(0,e.jsx)(j,{titleId:"dashboard.summary.high",color:"#FF7944",value:l.high}),(0,e.jsx)(j,{titleId:"dashboard.summary.medium",color:"#FFA940",value:l.mid}),(0,e.jsx)(j,{titleId:"dashboard.summary.low",color:"#3F96FE",value:l.low})]})}),(0,e.jsx)(i.Z,{split:"vertical",gutter:16,style:{marginTop:24},children:(0,e.jsxs)(c.Z.Group,{gutter:12,children:[(0,e.jsx)(c.Z,{title:r.formatMessage({id:"dashboard.summary.open"}),style:{fontSize:18,fontWeight:"bold",borderWidth:2,alignItems:"center"},bordered:!0,hoverable:!0,children:"1"}),(0,e.jsx)(c.Z,{title:r.formatMessage({id:"dashboard.summary.processing"}),style:{fontSize:18,fontWeight:"bold",borderWidth:2,alignItems:"center"},bordered:!0,hoverable:!0,children:"2"}),(0,e.jsx)(c.Z,{title:r.formatMessage({id:"dashboard.summary.closed"}),style:{fontSize:18,fontWeight:"bold",borderWidth:2,alignItems:"center"},bordered:!0,hoverable:!0,children:"3"})]})})]})]}),(0,e.jsx)(i.Z,{hoverable:!0,title:r.formatMessage({id:"dashboard.summary.realtimeWarning"}),extra:(0,e.jsxs)("a",{href:"/dashboard",children:[r.formatMessage({id:"dashboard.summary.detail"})," ",(0,e.jsx)(S.Z,{})]}),bordered:!0,children:(0,e.jsx)(X.Z,{columns:fe,actionRef:ce,request:function(){var o=M()(g()().mark(function t(s,n,m){return g()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,y.request)("/api/v1/alertinfo",{params:s}));case 1:case"end":return f.stop()}},t)}));return function(t,s,n){return o.apply(this,arguments)}}(),rowSelection:{},tableAlertRender:function(t){var s=t.selectedRowKeys,n=t.selectedRows,m=t.onCleanSelected;return(0,e.jsxs)(W.Z,{size:24,children:[(0,e.jsxs)("span",{children:[r.formatMessage({id:"dashboard.summary.table.selected"})," ",s.length," ",r.formatMessage({id:"dashboard.summary.table.item"})]}),(0,e.jsxs)("span",{children:[r.formatMessage({id:"dashboard.summary.table.instanceCount"})," ",new Set(n.map(function(h){return h.instanceId})).size]})]})},editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",defaultValue:{option:{fixed:"right",disable:!0}},onChange:function(t){}},rowKey:"uuid",search:{labelWidth:"auto",filterType:"light"},options:!1,form:{syncToUrl:function(t,s){return s==="get"?b()(b()({},t),{},{created_at:[t.startTime,t.endTime]}):t}},pagination:{pageSize:5,onChange:function(t){return""}},dateFormatter:"string",toolBarRender:function(){return[(0,e.jsx)(Q.ZP,{onClick:function(){},type:"primary",children:r.formatMessage({id:"dashboard.summary.table.batchprocess"})},"button")]}})})]}),(0,e.jsxs)(i.Z,{split:"horizontal",colSpan:9,style:{borderRadius:8},gutter:[0,20],ghost:!0,children:[(0,e.jsxs)(i.Z,{title:r.formatMessage({id:"dashboard.summary.projectintroduction"}),style:{borderRadius:8},bodyStyle:{fontSize:12},bordered:!0,children:[r.formatMessage({id:"dashboard.summary.projectsummary"}),(0,e.jsx)(E.Z,{style:{marginBlockStart:24,marginBlockEnd:-24},items:[{key:"detail4",children:(0,e.jsx)("span",{style:{fontSize:12},children:r.formatMessage({id:"dashboard.summary.projectdetail4"})})},{key:"detail3",children:(0,e.jsx)("span",{style:{fontSize:12},children:r.formatMessage({id:"dashboard.summary.projectdetail3"})})},{key:"detail2",children:(0,e.jsx)("span",{style:{fontSize:12},children:r.formatMessage({id:"dashboard.summary.projectdetail2"})})},{key:"detail1",children:(0,e.jsx)("span",{style:{fontSize:12},children:r.formatMessage({id:"dashboard.summary.projectdetail1"})})}]}),(0,e.jsx)(L.Z,{}),(0,e.jsxs)("a",{href:"https://github.com/chriskaliX/Hades",children:[" ",r.formatMessage({id:"dashboard.summary.githubaddress"})]}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)(w.Z,{}),(0,e.jsx)("a",{href:"email://chriskalix@protonmail.com",children:" chriskalix@protonmail.com"})]}),(0,e.jsx)(i.Z,{title:r.formatMessage({id:"dashboard.summary.logs"}),style:{borderRadius:8},bodyStyle:{fontSize:12},bordered:!0,actions:[(0,e.jsxs)("div",{children:[(0,e.jsx)(U.Z,{},"setting"),r.formatMessage({id:"dashboard.summary.previous"})]}),(0,e.jsxs)("div",{children:[r.formatMessage({id:"dashboard.summary.next"}),(0,e.jsx)(S.Z,{},"setting")]})],children:(0,e.jsx)(E.Z,{style:{marginBlockStart:24,marginBlockEnd:-24},items:ie})})]})]})},"resize-observer")},se=ae}}]);
