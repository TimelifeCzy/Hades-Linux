"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[414],{71764:function(It,Ce,r){r.r(Ce),r.d(Ce,{default:function(){return Mt}});var Ae=r(5574),H=r.n(Ae),He=r(90930),t=r(35312),k=r(67294),Le=r(97857),ee=r.n(Le),Ee=r(19632),We=r.n(Ee),Ke=r(15009),w=r.n(Ke),ze=r(99289),Q=r.n(ze);function Oe($){return oe.apply(this,arguments)}function oe(){return oe=Q()(w()().mark(function $(o){return w()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,t.request)("/api/v1/grpc/conn/stat",{method:"GET",params:{agent_id:o}}));case 1:case"end":return d.stop()}},$)})),oe.apply(this,arguments)}function Be($){return de.apply(this,arguments)}function de(){return de=Q()(w()().mark(function $(o){return w()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,t.request)("/api/v1/asset/get",{method:"GET",params:ee()({},o)}));case 1:case"end":return d.stop()}},$)})),de.apply(this,arguments)}var ue=r(1912),Re=r(51042),te=r(43471),Ge=r(28508),Ue=r(30723),V=r(43929),Ve=r(61086),Ne=r(92962),_e=r(87547),Je=r(66212),Qe=r(41156),Xe=r(64994),qe=r(3774),ae=r(39880),et=r(37476),tt=r(34994),Ie=r(64317),A=r(38345),f=r(63142),x=r(6466),at=r(96604),N=r(2453),ne=r(66309),Pe=r(78957),st=r(8232),E=r(14726),Te=r(17788),we=r(96074),ie=r(38703),rt=r(56063),nt=r(27484),j=r.n(nt),re=r(9917),it=r(29387),lt=r.n(it),ot=r(70178),dt=r.n(ot),e=r(85893),ut=function(o){var n=o.dataSource,d=o.total,v=(0,k.useState)(!1),y=H()(v,2),F=y[0],c=y[1],s=(0,k.useState)([]),I=H()(s,2),P=I[0],M=I[1],W=(0,k.useState)({}),S=H()(W,2),z=S[0],D=S[1],C=function(){c(!1)},Y=function(){var b=Q()(w()().mark(function u(){var h;return w()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,t.request)("/api/v1/plugin/list",{params:{page:1,size:999,keyword:{},sort:{},filter:{}}});case 3:if(h=p.sent,h.code!==0){p.next=9;break}return M(h.data.items),p.abrupt("return",h.data.items);case 9:return N.ZP.error(h.message),p.abrupt("return",{});case 11:p.next=17;break;case 13:return p.prev=13,p.t0=p.catch(0),N.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF01"),p.abrupt("return",{});case 17:case"end":return p.stop()}},u,null,[[0,13]])}));return function(){return b.apply(this,arguments)}}(),g=[{title:"PID",dataIndex:"pid",copyable:!0,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.name"}),dataIndex:"name",copyable:!0,ellipsis:!0,width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"version"}),dataIndex:"pversion",copyable:!0,ellipsis:!0,render:function(u,h){return(0,e.jsx)(ne.Z,{children:h.pversion})},search:!1,width:"6%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"status"}),dataIndex:"status",filters:!0,onFilter:!0,ellipsis:!0,valueEnum:{false:{text:(0,e.jsx)(t.FormattedMessage,{id:"offline"}),status:"Default"},true:{text:(0,e.jsx)(t.FormattedMessage,{id:"online"}),status:"Success"}},search:!1,width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.performance"}),ellipsis:!0,render:function(u,h){var Z,p;return(0,e.jsxs)(Pe.Z,{children:[(0,e.jsxs)("span",{children:[(0,e.jsx)(ne.Z,{bordered:!0,children:"CPU"}),((Z=h.cpu)!==null&&Z!==void 0?Z:0).toFixed(2),"%"]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(ne.Z,{bordered:!0,children:"MEM"}),(((p=h.rss)!==null&&p!==void 0?p:0)/1024/1024).toFixed(2)," MB"]})]})},search:!1,width:"20%"},{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadspeed"})," ",(0,e.jsx)(ue.Z,{})]}),dataIndex:"tx_speed",copyable:!0,ellipsis:!0,search:!1,render:function(u,h){var Z;return(0,e.jsxs)("span",{children:[(((Z=h.tx_speed)!==null&&Z!==void 0?Z:0)/1024).toFixed(2)," KB/s"]})},width:"8%"},{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadtps"})," ",(0,e.jsx)(ue.Z,{})]}),dataIndex:"tx_tps",copyable:!0,ellipsis:!0,search:!1,render:function(u,h){var Z;return(0,e.jsx)("span",{children:((Z=h.tx_tps)!==null&&Z!==void 0?Z:0).toFixed(2)})},width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.createat"}),dataIndex:"start_at",copyable:!0,ellipsis:!0,search:!1,sorter:!0,render:function(u,h){return(0,e.jsx)("span",{children:j().unix(h.start_at).format("YYYY-MM-DD hh:mm:ss")})}},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.latesthb"}),dataIndex:"last_heartbeat_time",copyable:!0,ellipsis:!0,search:!1,render:function(u,h){return(0,e.jsx)("span",{children:j().unix(h.last_heartbeat_time).fromNow()})}},{title:(0,e.jsx)(t.FormattedMessage,{id:"option"}),valueType:"option",key:"option",copyable:!1,render:function(u,h,Z,p){return[(0,e.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(t.FormattedMessage,{id:"upgrade"})},"upgrade"),(0,e.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(t.FormattedMessage,{id:"unload"})},"unload")]},width:"10%"}],i=st.Z.useForm(),l=H()(i,1),O=l[0],B=(0,t.useParams)(),R=B.id;return(0,e.jsx)(ae.Z,{columns:g,options:!1,dataSource:n,pagination:{total:d,pageSize:10},search:{optionRender:function(u,h,Z){return[].concat(We()(Z),[(0,e.jsx)(et.Y,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.addplg"}),trigger:(0,e.jsxs)(E.ZP,{type:"primary",children:[(0,e.jsx)(Re.Z,{}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.addplg"})]}),form:O,onFinish:function(){var p=Q()(w()().mark(function _(G){var K;return w()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,(0,t.request)("/api/v1/plugin/send",{method:"POST",data:{agent_id:R,name:G.name,pversion:G.pversion,action:"insert"}});case 3:if(K=m.sent,K.code!==0){m.next=8;break}return N.ZP.success("\u63D0\u4EA4\u6210\u529F"),Y(),m.abrupt("return",!0);case 8:N.ZP.error(K.message),m.next=14;break;case 11:m.prev=11,m.t0=m.catch(0),N.ZP.error("\u63D0\u4EA4\u5931\u8D25\uFF01");case 14:case"end":return m.stop()}},_,null,[[0,11]])}));return function(_){return p.apply(this,arguments)}}(),children:(0,e.jsxs)(tt.A.Group,{children:[(0,e.jsx)(Ie.Z,{width:"md",request:Q()(w()().mark(function p(){var _,G,K;return w()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Y();case 2:return _=m.sent,G=_.map(function(q){return q.name}),K=Array.from(new Set(G)),m.abrupt("return",K.map(function(q){return{label:q,value:q}}));case 6:case"end":return m.stop()}},p)})),onChange:function(_,G){var K=P.filter(function(m){return m.name===G.value});console.log(K);var X={};K.forEach(function(m){X[m.pversion]={text:m.pversion}}),D(X)},name:"plugin_name",label:(0,e.jsx)(t.FormattedMessage,{id:"name"}),required:!0}),(0,e.jsx)(Ie.Z,{width:"md",name:"pversion",valueEnum:z,label:(0,e.jsx)(t.FormattedMessage,{id:"version"}),required:!0})]})})])}},rowKey:"pid",children:(0,e.jsx)(Te.Z,{title:(0,e.jsxs)(e.Fragment,{children:["PID ",(0,e.jsx)(t.FormattedMessage,{id:"detail"})]}),open:F,onCancel:C,width:800,footer:[]})})},ct=function(o){var n=o.dataSource,d=o.total,v=(0,k.useState)(!1),y=H()(v,2),F=y[0],c=y[1],s=(0,k.useState)(null),I=H()(s,2),P=I[0],M=I[1],W=function(C){M(C),c(!0)},S=function(){c(!1),M(null)},z=[{title:"PID",dataIndex:"pid",copyable:!0,ellipsis:!0,width:"8%",search:!0,render:function(C,Y){return(0,e.jsx)(E.ZP,{type:"link",onClick:function(){return W(Y)},style:{height:10},children:Y.pid})}},{title:"PPID",dataIndex:"ppid",copyable:!0,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"name",copyable:!0,ellipsis:!0,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.exefile"}),dataIndex:"exe",copyable:!0,ellipsis:!0,width:"30%"},{title:"UID",dataIndex:"uid",copyable:!1,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"username",copyable:!1,ellipsis:!0,width:"12%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.start_time"}),dataIndex:"start_time",copyable:!1,ellipsis:!0,search:!1,render:function(C,Y){return j().unix(Y.start_time).format("YYYY-MM-DD HH:mm:ss")}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ae.Z,{columns:z,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}}),(0,e.jsx)(Te.Z,{title:(0,e.jsxs)(e.Fragment,{children:["PID ",(0,e.jsx)(t.FormattedMessage,{id:"detail"})]}),open:F,onCancel:S,width:800,footer:[],children:P&&(0,e.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",background:"#f5f5f5",padding:"10px",borderRadius:"4px"},children:(0,e.jsx)("code",{children:JSON.stringify(Object.fromEntries(Object.entries(P).filter(function(D){var C=H()(D,1),Y=C[0];return!["_id","package_seq","data_type"].includes(Y)})),null,2)})})})]})},pt=function(o){var n=o.dataSource,d=o.total,v=[{title:"PID",dataIndex:"pid",valueType:"text",copyable:!0,width:"10%"},{title:"Inode",dataIndex:"inode",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.protocol"}),dataIndex:"type",valueEnum:{1:{text:"ICMP"},6:{text:"TCP"},17:{text:"UDP"}},renderText:function(F){switch(F){case 1:return"ICMP";case 6:return"TCP";case 17:return"UDP";default:return F}},filters:!0,search:!1,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"comm",valueType:"text",copyable:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.remoteaddr"}),key:"remote_addr",valueType:"text",render:function(F,c){return c.dip+":"+c.dport},width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.localaddr"}),key:"local_addr",render:function(F,c){return c.sip+":"+c.sport},search:!1,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"cmdline",valueType:"text",search:!1,copyable:!0}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ae.Z,{columns:v,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})})},mt=function(o){var n=o.dataSource,d=o.total,v=[{title:"UID",dataIndex:"uid",valueType:"text",copyable:!0,width:"6%",sorter:!0},{title:"GID",dataIndex:"gid",valueType:"text",copyable:!1,width:"5%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"username",valueType:"text",copyable:!0,width:"9%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.group_name"}),dataIndex:"group_name",valueType:"text",copyable:!0,width:"9%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.last_login_ip"}),dataIndex:"last_login_ip",valueType:"text",copyable:!0,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.last_login_time"}),dataIndex:"last_login_time",valueType:"text",copyable:!1,width:"12%",render:function(F,c){return j().unix(c.last_login_time).format("YYYY-MM-DD HH:mm:ss")},search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.home"}),dataIndex:"home_dir",valueType:"text",copyable:!0,width:"12%",search:!1,ellipsis:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.shell"}),dataIndex:"shell",valueType:"text",copyable:!0,width:"12%",search:!1,ellipsis:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.info"}),dataIndex:"info",valueType:"text",copyable:!0,search:!1,ellipsis:!0}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ae.Z,{columns:v,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})})},vt=function(o){var n=o.dataSource,d=o.total,v=[{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.crontab.file_path"}),dataIndex:"path",valueType:"text",copyable:!0,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"user",valueType:"text",copyable:!0,width:"8%"},{title:"Minute",dataIndex:"minute",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"Hour",dataIndex:"hour",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"DoM",dataIndex:"day_of_month",valueType:"text",copyable:!1,width:"5%",tooltip:"Day of month",search:!1},{title:"Month",dataIndex:"month",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"DoW",dataIndex:"day_of_week",valueType:"text",copyable:!0,width:"5%",tooltip:"Day of Week",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.crontab.command"}),dataIndex:"command",valueType:"text",copyable:!0,ellipsis:!0}];return(0,e.jsx)(ae.Z,{columns:v,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},ht=function(o){var n=o.dataSource,d=o.total,v=[{title:"PID",dataIndex:"pid",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"type"}),dataIndex:"type",valueType:"text",copyable:!0,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"name"}),dataIndex:"name",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"container_name"}),dataIndex:"container_name",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"version"}),dataIndex:"version",valueType:"text",copyable:!1,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.applications.listen_ports"}),dataIndex:"listen_addrs",valueType:"text",copyable:!1,width:"15%",ellipsis:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"uid"}),dataIndex:"uid",valueType:"text",copyable:!0,width:"5%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"cmdline"}),dataIndex:"cmdline",valueType:"text",copyable:!0,width:"25%",ellipsis:!0,search:!1}];return(0,e.jsx)(ae.Z,{columns:v,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},xt=function(o){var n=o.dataSource,d=o.total,v=[{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.name"}),dataIndex:"name",valueType:"text",copyable:!0,width:"10%"},{title:"Size",dataIndex:"size",valueType:"text",copyable:!1,width:"5%",search:!1,sorter:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.refcount"}),dataIndex:"refcount",valueType:"text",copyable:!1,width:"4%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.used_by"}),dataIndex:"used_by",valueType:"text",copyable:!0,width:"20%",ellipsis:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"state"}),dataIndex:"state",valueType:"text",copyable:!1,width:"5%",valueEnum:{Live:{text:"Live",status:"Success"},Loading:{text:"Loading",status:"Default"}},filters:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"addr"}),dataIndex:"addr",valueType:"text",copyable:!0,width:"15%",ellipsis:!0,search:!1}];return(0,e.jsx)(ae.Z,{columns:v,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(te.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},gt=function(o){var n,d,v,y,F,c,s,I,P,M,W,S,z,D,C,Y,g,i,l,O,B,R,b,u,h,Z,p,_,G,K,X,m,q,ce,pe,me,ve,he,xe,ge,fe,je,ye,Fe,Me,be,Ze,J=o.setActiveKey,se=o.setAppActiveKey,bt=(0,k.useState)([]),$e=H()(bt,2),a=$e[0],Zt=$e[1],St=(0,t.useParams)(),De=St.id,Ct=(0,k.useState)(!1),Ye=H()(Ct,2),ke=Ye[0],Pt=Ye[1];return(0,k.useEffect)(function(){var T=function(){var U=Q()(w()().mark(function Se(){var le;return w()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(De){L.next=3;break}return N.ZP.error("AgentId Error"),L.abrupt("return");case 3:return L.prev=3,L.next=6,Oe(De);case 6:le=L.sent,le.code===0?Zt(le.data):N.ZP.error(le.message),L.next=13;break;case 10:L.prev=10,L.t0=L.catch(3),N.ZP.error("Error fetching data: ".concat(L.t0 instanceof Error?L.t0.message:"An unknown error occurred"));case 13:case"end":return L.stop()}},Se,null,[[3,10]])}));return function(){return U.apply(this,arguments)}}();T()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostinfo"}),hoverable:!0,bordered:!0,children:(0,e.jsxs)(f.vY,{labelStyle:{color:"black"},column:4,children:[(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostname"}),copyable:!0,children:(n=a.agent_info)===null||n===void 0?void 0:n.hostname}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv4lan"}),copyable:!0,children:(d=a.agent_info)===null||d===void 0?void 0:d.intranet_ipv4}),(0,e.jsx)(f.vY.Item,{title:"PID",copyable:!0,children:(v=a.agent_info)===null||v===void 0?void 0:v.pid}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.boottime"}),children:j().unix((y=a.agent_info)===null||y===void 0?void 0:y.boot_at).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.arch"}),copyable:!0,children:(F=a.agent_info)===null||F===void 0?void 0:F.arch}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv6lan"}),copyable:!0,children:(c=a.agent_info)===null||c===void 0?void 0:c.intranet_ipv6}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.connaddr"}),copyable:!0,children:(s=a.agent_info)===null||s===void 0?void 0:s.addr}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.latestheartbeat"}),children:j().unix((I=a.agent_info)===null||I===void 0?void 0:I.last_heartbeat_time).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.distro"}),copyable:!0,children:[(P=a.agent_info)===null||P===void 0?void 0:P.platform," ",(M=a.agent_info)===null||M===void 0?void 0:M.platform_family," ",(W=a.agent_info)===null||W===void 0?void 0:W.platform_version]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv4wan"}),copyable:!0,children:(S=a.agent_info)===null||S===void 0?void 0:S.extranet_ipv4}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.uploadtps"}),children:(0,e.jsxs)("span",{children:[(z=a.agent_info)===null||z===void 0?void 0:z.tx_tps.toFixed(2)," ",(0,e.jsx)(ue.Z,{style:{color:"#1677FF"}})]})}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentstarttime"}),children:j().unix((D=a.agent_info)===null||D===void 0?void 0:D.start_at).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelversion"}),copyable:!0,children:(C=a.agent_info)===null||C===void 0?void 0:C.kernel_version}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv6wan"}),copyable:!0,children:(Y=a.agent_info)===null||Y===void 0?void 0:Y.extranet_ipv6}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysinfo"}),children:[(g=a.agent_info)===null||g===void 0?void 0:g.cpu_num," Core /"," ",(((i=a.agent_info)===null||i===void 0?void 0:i.total_memory)/1024/1024/1024).toFixed(1)," GB"]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentversion"}),copyable:!0,children:(l=a.agent_info)===null||l===void 0?void 0:l.version}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.cpuname"}),copyable:!0,children:(O=a.agent_info)===null||O===void 0?void 0:O.cpu_name}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.labels"}),children:(0,e.jsxs)(Pe.Z,{children:[a.tags&&a.tags.length>0?a.tags.map(function(T,U){return(0,e.jsx)(ne.Z,{color:"#E4F3E0",style:{color:"#199B00"},closable:!0,closeIcon:(0,e.jsx)(Ge.Z,{style:{color:"black"}}),onClose:function(){return""},children:T},U)}):"",(0,e.jsx)(Ue.Z,{style:{fontSize:"20px",verticalAlign:"middle",marginLeft:-8,marginBlockStart:-2}})]})}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysload"}),children:[(B=a.agent_info)===null||B===void 0?void 0:B.load_1," / ",(R=a.agent_info)===null||R===void 0?void 0:R.load_5," / ",(b=a.agent_info)===null||b===void 0?void 0:b.load_15]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentstatus"}),valueEnum:{false:{text:(0,e.jsx)(t.FormattedMessage,{id:"offline"}),status:"Default"},true:{text:(0,e.jsx)(t.FormattedMessage,{id:"online"}),status:"Success"}},children:(u=a.agent_info)===null||u===void 0?void 0:u.online})]})}),(0,e.jsx)(we.Z,{type:ke?"horizontal":"vertical"}),(0,e.jsxs)(A.Z,{ghost:!0,gutter:12,children:[(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.systemload"}),hoverable:!0,extra:(0,e.jsxs)(E.ZP,{type:"link",onClick:function(){return J("monitor")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(V.Z,{})]}),colSpan:20,style:{marginLeft:-6},bordered:!0,children:(0,e.jsxs)(x.Z.Group,{children:[(0,e.jsx)(x.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentcpu"}),value:(((h=(Z=a.agent_info)===null||Z===void 0?void 0:Z.cpu)!==null&&h!==void 0?h:0)*100).toFixed(2)+"%",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," 10%"]})},chart:(0,e.jsx)(ie.Z,{type:"circle",percent:((p=(_=a.agent_info)===null||_===void 0?void 0:_.cpu)!==null&&p!==void 0?p:0)*100/.1,size:65,format:function(){return null}}),chartPlacement:"left"}),(0,e.jsx)(x.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentmem"}),value:(((G=a.agent_info)===null||G===void 0?void 0:G.rss)/1024/1024).toFixed(2)+"MB",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," 250 MB"]})},chart:(0,e.jsx)(ie.Z,{type:"circle",percent:((K=a.agent_info)===null||K===void 0?void 0:K.rss)/1024/1024/250*100,size:65,format:function(U){return(U==null?void 0:U.toFixed(1))+"%"}}),chartPlacement:"left"}),(0,e.jsx)(x.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.syscpu"}),value:((X=(m=a.agent_info)===null||m===void 0?void 0:m.sys_cpu)!==null&&X!==void 0?X:0).toFixed(2)+"%"},chart:(0,e.jsx)(ie.Z,{type:"circle",percent:(q=(ce=a.agent_info)===null||ce===void 0?void 0:ce.sys_cpu)!==null&&q!==void 0?q:0,size:65,format:function(){return null}}),chartPlacement:"left"}),(0,e.jsx)(x.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysmem"}),value:(((pe=(me=a.agent_info)===null||me===void 0?void 0:me.sys_mem)!==null&&pe!==void 0?pe:0)*(((ve=a.agent_info)===null||ve===void 0?void 0:ve.total_memory)/1024/1024/1024)/100).toFixed(2)+"GB",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," ",(((he=(xe=a.agent_info)===null||xe===void 0?void 0:xe.total_memory)!==null&&he!==void 0?he:0)/1024/1024/1024).toFixed(1)," GB"]})},chart:(0,e.jsx)(ie.Z,{type:"circle",percent:(ge=a.agent_info)===null||ge===void 0?void 0:ge.sys_mem,size:65,format:function(U){return(U==null?void 0:U.toFixed(1))+"%"}}),chartPlacement:"left"})]})}),(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.securityalert"}),hoverable:!0,extra:(0,e.jsxs)(E.ZP,{type:"link",onClick:function(){return J("securityalert")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(V.Z,{})]}),style:{marginLeft:6},bordered:!0,children:(0,e.jsx)(x.Z.Group,{children:(0,e.jsx)(x.Z,{statistic:{title:"\u544A\u8B66\u603B\u6570",value:10,description:(0,e.jsx)(at.Z,{title:"\u5360\u6BD4",value:"61.5%"})},chartPlacement:"left"})})})]}),(0,e.jsx)(we.Z,{type:ke?"horizontal":"vertical"}),(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.appoverview"}),hoverable:!0,extra:(0,e.jsxs)(E.ZP,{type:"link",onClick:function(){return J("appdetail")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(V.Z,{})]}),children:(0,e.jsxs)(x.Z.Group,{gutter:16,children:[(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ve.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processes"})]}),statistic:{value:(a==null||(fe=a.app_overview)===null||fe===void 0?void 0:fe.processes)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("processes"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ne.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.networks"})]}),statistic:{value:(a==null||(je=a.app_overview)===null||je===void 0?void 0:je.networks)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("networks"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(_e.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.users"})]}),statistic:{value:(a==null||(ye=a.app_overview)===null||ye===void 0?void 0:ye.users)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("user"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Je.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.crontabs"})]}),statistic:{value:(a==null||(Fe=a.app_overview)===null||Fe===void 0?void 0:Fe.crons)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("crons"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Qe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.applications"})]}),statistic:{value:(a==null||(Me=a.app_overview)===null||Me===void 0?void 0:Me.apps)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("apps"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Xe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelmodules"})]}),statistic:{value:(a==null||(be=a.app_overview)===null||be===void 0?void 0:be.kmods)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("kmods"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(qe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.containers"})]}),statistic:{value:(a==null||(Ze=a.app_overview)===null||Ze===void 0?void 0:Ze.containers)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(E.ZP,{type:"link",onClick:function(){se("containers"),J("appdetail")},children:(0,e.jsx)(V.Z,{})}),hoverable:!0})]})})]})},ft=function(o){var n=o.activeKey,d=o.setActiveKey,v=(0,t.useParams)(),y=v.id,F=(0,k.useState)([]),c=H()(F,2),s=c[0],I=c[1],P=function(){var W=Q()(w()().mark(function S(z){var D,C;return w()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(I([]),y){g.next=4;break}return N.ZP.error("AgentId Error"),g.abrupt("return");case 4:return g.prev=4,D={agent_id:y,type:z},g.next=8,Be(D);case 8:C=g.sent,I(C==null?void 0:C.data),g.next=15;break;case 12:g.prev=12,g.t0=g.catch(4),N.ZP.error("Error fetching data: ".concat(g.t0 instanceof Error?g.t0.message:"An unknown error occurred"));case 15:case"end":return g.stop()}},S,null,[[4,12]])}));return function(z){return W.apply(this,arguments)}}(),M=function(S){d(S),P(S)};return(0,k.useEffect)(function(){P("plugins")},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostdetail"}),tabs:{type:"card",activeKey:n,onChange:M},tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostdetail.tooltip"}),extra:(0,e.jsx)(E.ZP,{type:"default",icon:(0,e.jsx)(te.Z,{}),children:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}),hoverable:!0,children:[(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugins"}),children:(0,e.jsx)(ut,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"plugins"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processes"}),children:(0,e.jsx)(ct,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"processes"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.networks"}),children:(0,e.jsx)(pt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"sockets"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.users"}),children:(0,e.jsx)(mt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"users"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.crontabs"}),children:(0,e.jsx)(vt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"crons"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.applications"}),children:(0,e.jsx)(ht,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"apps"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelmodules"}),children:(0,e.jsx)(xt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"kmods"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.containers"})},"containers")]})})},jt=rt.default.RangePicker;j().extend(dt()),j().extend(lt()),j().tz.setDefault("Asia/Shanghai");var yt=function(){var o=(0,k.useState)([]),n=H()(o,2),d=n[0],v=n[1],y=(0,k.useState)([j()().subtract(60,"minutes"),j()()]),F=H()(y,2),c=F[0],s=F[1],I=(0,t.useParams)(),P=I.id,M=(d||[]).map(function(i){var l,O,B,R,b,u;return{timestamp:j()(i==null?void 0:i.timestamp).toDate(),agent_cpu:((i==null||(l=i.metrics)===null||l===void 0?void 0:l.agent_cpu)||0)*100,agent_mem:((i==null||(O=i.metrics)===null||O===void 0?void 0:O.agent_mem)||0)/1024/1024,sys_cpu:(i==null||(B=i.metrics)===null||B===void 0?void 0:B.sys_cpu)||0,sys_mem:(i==null||(R=i.metrics)===null||R===void 0?void 0:R.sys_mem)||0,tx_speed:(i==null||(b=i.metrics)===null||b===void 0?void 0:b.tx_speed)||0,tx_tps:(i==null||(u=i.metrics)===null||u===void 0?void 0:u.tx_tps)||0}}),W={data:M,xField:"timestamp",yField:"agent_cpu",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:10,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},forceFit:!0,responsive:!0,height:200},S={data:M,xField:"timestamp",yField:"agent_mem",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"MB")}},style:{lineWidth:2},scale:{y:{domainMax:250,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"MB")}}},height:200},z={data:M,xField:"timestamp",yField:"sys_cpu",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:100,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},height:200},D={data:M,xField:"timestamp",yField:"sys_mem",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:100,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},height:200},C={data:M,xField:"timestamp",yField:"tx_speed",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"KB/S")}},style:{lineWidth:2},scale:{y:{domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"KB/S")}}},height:200},Y={data:M,xField:"timestamp",yField:"tx_tps",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2))}},style:{lineWidth:2},scale:{y:{domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l)}}},height:200},g=function(){var i=Q()(w()().mark(function l(){var O,B,R;return w()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(console.log(c,P),!(!c[0]||!c[1]||!P)){u.next=3;break}return u.abrupt("return");case 3:return O=j()(c[0]).tz("Asia/Shanghai").toISOString(),B=j()(c[1]).tz("Asia/Shanghai").toISOString(),u.prev=5,u.next=8,(0,t.request)("/api/v1/metric",{params:{start:O,end:B,agent_id:P}});case 8:R=u.sent,v(R.data),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(5),console.error("Error fetching data:",u.t0);case 15:case"end":return u.stop()}},l,null,[[5,12]])}));return function(){return i.apply(this,arguments)}}();return(0,k.useEffect)(function(){g()},[c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(A.Z,{extra:(0,e.jsx)(jt,{onChange:function(l){return s(l)},defaultValue:[c[0],c[1]],showTime:!0}),title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.systemperformance"}),headerBordered:!0,children:[(0,e.jsxs)(x.Z.Group,{gutter:16,ghost:!0,children:[(0,e.jsx)(x.Z,{title:"Agent CPU",chart:(0,e.jsx)(re.Z,ee()({},W)),bordered:!0,hoverable:!0}),(0,e.jsx)(x.Z,{title:"System CPU",chart:(0,e.jsx)(re.Z,ee()({},z)),bordered:!0,hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadspeed"}),chart:(0,e.jsx)(re.Z,ee()({},C)),bordered:!0,hoverable:!0})]}),(0,e.jsx)("br",{}),(0,e.jsxs)(x.Z.Group,{gutter:16,ghost:!0,children:[(0,e.jsx)(x.Z,{title:"Agent MEM",chart:(0,e.jsx)(re.Z,ee()({},S)),bordered:!0,hoverable:!0}),(0,e.jsx)(x.Z,{title:"System MEM",chart:(0,e.jsx)(re.Z,ee()({},D)),bordered:!0,hoverable:!0}),(0,e.jsx)(x.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadtps"}),chart:(0,e.jsx)(re.Z,ee()({},Y)),bordered:!0,hoverable:!0})]})]})})},Ft=function(){var o=(0,t.useIntl)(),n=(0,k.useState)("basic"),d=H()(n,2),v=d[0],y=d[1],F=(0,k.useState)("plugins"),c=H()(F,2),s=c[0],I=c[1],P=function(S){y(S)},M=[{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.basicinfo"}),key:"basic"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.securityalert"}),key:"securityalert",disabled:!0},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.appdetail"}),key:"appdetail"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.monitor"}),key:"monitor"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.operationlogs"}),key:"operationlogs",disabled:!0}];return(0,e.jsx)("div",{style:{background:"#F5F7FA"},children:(0,e.jsxs)(He._z,{header:{ghost:!0,title:void 0,style:{backgroundColor:"white",marginBlockEnd:"20px"}},onTabChange:P,tabActiveKey:v,tabList:M,breadcrumb:{routes:[{path:"/assetcenter",breadcrumbName:o.formatMessage({id:"menu.assetcenter"})},{path:"/hosts",breadcrumbName:o.formatMessage({id:"menu.assetcenter.hosts"})}]},children:[v==="basic"&&(0,e.jsx)(gt,{setActiveKey:y,setAppActiveKey:I}),v==="monitor"&&(0,e.jsx)(yt,{}),v==="appdetail"&&(0,e.jsx)(ft,{activeKey:s,setActiveKey:I})]})})},Mt=Ft}}]);
