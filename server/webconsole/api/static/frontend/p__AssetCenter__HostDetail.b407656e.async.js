"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[414],{71764:function(It,Ce,r){r.r(Ce),r.d(Ce,{default:function(){return Mt}});var Ae=r(5574),k=r.n(Ae),He=r(90930),t=r(35312),w=r(67294),Le=r(97857),ae=r.n(Le),Ee=r(19632),We=r.n(Ee),Ke=r(15009),T=r.n(Ke),ze=r(99289),ee=r.n(ze);function Oe($){return pe.apply(this,arguments)}function pe(){return pe=ee()(T()().mark(function $(o){return T()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,t.request)("/api/v1/grpc/conn/stat",{method:"GET",params:{agent_id:o}}));case 1:case"end":return d.stop()}},$)})),pe.apply(this,arguments)}function Be($){return me.apply(this,arguments)}function me(){return me=ee()(T()().mark(function $(o){return T()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,t.request)("/api/v1/asset/get",{method:"GET",params:ae()({},o)}));case 1:case"end":return d.stop()}},$)})),me.apply(this,arguments)}var ve=r(1912),Re=r(51042),se=r(43471),Ge=r(28508),Ue=r(30723),_=r(43929),Ne=r(61086),_e=r(92962),Ve=r(87547),Je=r(66212),Qe=r(41156),Xe=r(64994),qe=r(3774),re=r(39880),et=r(37476),tt=r(34994),Ie=r(64317),A=r(38345),f=r(63142),h=r(6466),at=r(96604),V=r(2453),de=r(66309),Pe=r(78957),st=r(8232),W=r(14726),we=r(17788),Te=r(96074),ue=r(38703),rt=r(56063),nt=r(27484),j=r.n(nt),ie=r(9917),it=r(29387),lt=r.n(it),ot=r(70178),dt=r.n(ot),e=r(85893),ut=function(o){var n=o.dataSource,d=o.total,m=(0,w.useState)(!1),y=k()(m,2),F=y[0],u=y[1],s=(0,w.useState)([]),C=k()(s,2),I=C[0],M=C[1],K=(0,w.useState)(null),Z=k()(K,2),U=Z[0],D=Z[1],S=(0,w.useState)({}),Y=k()(S,2),x=Y[0],i=Y[1],l=function(){u(!1)},z=function(){var H=ee()(T()().mark(function L(){var v;return T()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,t.request)("/api/v1/plugin/list",{params:{page:1,size:999,keyword:{},sort:{},filter:{}}});case 3:if(v=c.sent,v.code!==0){c.next=9;break}return M(v.data.items),c.abrupt("return",v.data.items);case 9:return V.ZP.error(v.message),c.abrupt("return",{});case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(0),V.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF01"),c.abrupt("return",{});case 17:case"end":return c.stop()}},L,null,[[0,13]])}));return function(){return H.apply(this,arguments)}}(),B=[{title:"PID",dataIndex:"pid",copyable:!0,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.name"}),dataIndex:"name",copyable:!0,ellipsis:!0,width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"version"}),dataIndex:"pversion",copyable:!0,ellipsis:!0,render:function(L,v){return(0,e.jsx)(de.Z,{children:v.pversion})},search:!1,width:"6%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"status"}),dataIndex:"status",filters:!0,onFilter:!0,ellipsis:!0,valueEnum:{false:{text:(0,e.jsx)(t.FormattedMessage,{id:"offline"}),status:"Default"},true:{text:(0,e.jsx)(t.FormattedMessage,{id:"online"}),status:"Success"}},search:!1,width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.performance"}),ellipsis:!0,render:function(L,v){var b,c;return(0,e.jsxs)(Pe.Z,{children:[(0,e.jsxs)("span",{children:[(0,e.jsx)(de.Z,{bordered:!0,children:"CPU"}),((b=v.cpu)!==null&&b!==void 0?b:0).toFixed(2),"%"]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(de.Z,{bordered:!0,children:"MEM"}),(((c=v.rss)!==null&&c!==void 0?c:0)/1024/1024).toFixed(2)," MB"]})]})},search:!1,width:"20%"},{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadspeed"})," ",(0,e.jsx)(ve.Z,{})]}),dataIndex:"tx_speed",copyable:!0,ellipsis:!0,search:!1,render:function(L,v){var b;return(0,e.jsxs)("span",{children:[(((b=v.tx_speed)!==null&&b!==void 0?b:0)/1024).toFixed(2)," KB/s"]})},width:"8%"},{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadtps"})," ",(0,e.jsx)(ve.Z,{})]}),dataIndex:"tx_tps",copyable:!0,ellipsis:!0,search:!1,render:function(L,v){var b;return(0,e.jsx)("span",{children:((b=v.tx_tps)!==null&&b!==void 0?b:0).toFixed(2)})},width:"8%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.createat"}),dataIndex:"start_at",copyable:!0,ellipsis:!0,search:!1,sorter:!0,render:function(L,v){return(0,e.jsx)("span",{children:j().unix(v.start_at).format("YYYY-MM-DD hh:mm:ss")})}},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.latesthb"}),dataIndex:"last_heartbeat_time",copyable:!0,ellipsis:!0,search:!1,render:function(L,v){return(0,e.jsx)("span",{children:j().unix(v.last_heartbeat_time).fromNow()})}},{title:(0,e.jsx)(t.FormattedMessage,{id:"option"}),valueType:"option",key:"option",copyable:!1,render:function(L,v,b,c){return[(0,e.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(t.FormattedMessage,{id:"upgrade"})},"upgrade"),(0,e.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(t.FormattedMessage,{id:"unload"})},"unload")]},width:"10%"}],R=st.Z.useForm(),J=k()(R,1),g=J[0],le=(0,t.useParams)(),oe=le.id;return(0,e.jsx)(re.Z,{columns:B,options:!1,dataSource:n,pagination:{total:d,pageSize:10},search:{optionRender:function(L,v,b){return[].concat(We()(b),[(0,e.jsx)(et.Y,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.addplg"}),trigger:(0,e.jsxs)(W.ZP,{type:"primary",children:[(0,e.jsx)(Re.Z,{}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.addplg"})]}),form:g,onFinish:function(){var c=ee()(T()().mark(function Q(G){var O;return T()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,t.request)("/api/v1/plugin/send",{method:"POST",data:{agent_id:oe,name:G.name,pversion:G.pversion,action:"insert"}});case 3:if(O=p.sent,O.code!==0){p.next=8;break}return V.ZP.success("\u63D0\u4EA4\u6210\u529F"),z(),p.abrupt("return",!0);case 8:V.ZP.error(O.message),p.next=14;break;case 11:p.prev=11,p.t0=p.catch(0),V.ZP.error("\u63D0\u4EA4\u5931\u8D25\uFF01");case 14:case"end":return p.stop()}},Q,null,[[0,11]])}));return function(Q){return c.apply(this,arguments)}}(),children:(0,e.jsxs)(tt.A.Group,{children:[(0,e.jsx)(Ie.Z,{width:"md",request:ee()(T()().mark(function c(){var Q,G,O;return T()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,z();case 2:return Q=p.sent,G=Q.map(function(te){return te.name}),O=Array.from(new Set(G)),p.abrupt("return",O.map(function(te){return{label:te,value:te}}));case 6:case"end":return p.stop()}},c)})),onChange:function(Q,G){var O=I.filter(function(p){return p.name===G.value});console.log(O);var q={};O.forEach(function(p){q[p.pversion]={text:p.pversion}}),console.log(q),i(q),D(G.value)},name:"plugin_name",label:(0,e.jsx)(t.FormattedMessage,{id:"name"}),required:!0}),(0,e.jsx)(Ie.Z,{width:"md",name:"pversion",valueEnum:x,label:(0,e.jsx)(t.FormattedMessage,{id:"version"}),required:!0})]})})])}},rowKey:"pid",children:(0,e.jsx)(we.Z,{title:(0,e.jsxs)(e.Fragment,{children:["PID ",(0,e.jsx)(t.FormattedMessage,{id:"detail"})]}),open:F,onCancel:l,width:800,footer:[]})})},ct=function(o){var n=o.dataSource,d=o.total,m=(0,w.useState)(!1),y=k()(m,2),F=y[0],u=y[1],s=(0,w.useState)(null),C=k()(s,2),I=C[0],M=C[1],K=function(S){M(S),u(!0)},Z=function(){u(!1),M(null)},U=[{title:"PID",dataIndex:"pid",copyable:!0,ellipsis:!0,width:"8%",search:!0,render:function(S,Y){return(0,e.jsx)(W.ZP,{type:"link",onClick:function(){return K(Y)},style:{height:10},children:Y.pid})}},{title:"PPID",dataIndex:"ppid",copyable:!0,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"name",copyable:!0,ellipsis:!0,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.exefile"}),dataIndex:"exe",copyable:!0,ellipsis:!0,width:"30%"},{title:"UID",dataIndex:"uid",copyable:!1,ellipsis:!0,width:"8%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"username",copyable:!1,ellipsis:!0,width:"12%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.start_time"}),dataIndex:"start_time",copyable:!1,ellipsis:!0,search:!1,render:function(S,Y){return j().unix(Y.start_time).format("YYYY-MM-DD HH:mm:ss")}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(re.Z,{columns:U,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}}),(0,e.jsx)(we.Z,{title:(0,e.jsxs)(e.Fragment,{children:["PID ",(0,e.jsx)(t.FormattedMessage,{id:"detail"})]}),open:F,onCancel:Z,width:800,footer:[],children:I&&(0,e.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",background:"#f5f5f5",padding:"10px",borderRadius:"4px"},children:(0,e.jsx)("code",{children:JSON.stringify(Object.fromEntries(Object.entries(I).filter(function(D){var S=k()(D,1),Y=S[0];return!["_id","package_seq","data_type"].includes(Y)})),null,2)})})})]})},pt=function(o){var n=o.dataSource,d=o.total,m=[{title:"PID",dataIndex:"pid",valueType:"text",copyable:!0,width:"10%"},{title:"Inode",dataIndex:"inode",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.protocol"}),dataIndex:"type",valueEnum:{1:{text:"ICMP"},6:{text:"TCP"},17:{text:"UDP"}},renderText:function(F){switch(F){case 1:return"ICMP";case 6:return"TCP";case 17:return"UDP";default:return F}},filters:!0,search:!1,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"comm",valueType:"text",copyable:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.remoteaddr"}),key:"remote_addr",valueType:"text",render:function(F,u){return u.dip+":"+u.dport},width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.localaddr"}),key:"local_addr",render:function(F,u){return u.sip+":"+u.sport},search:!1,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processname"}),dataIndex:"cmdline",valueType:"text",search:!1,copyable:!0}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(re.Z,{columns:m,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})})},mt=function(o){var n=o.dataSource,d=o.total,m=[{title:"UID",dataIndex:"uid",valueType:"text",copyable:!0,width:"6%",sorter:!0},{title:"GID",dataIndex:"gid",valueType:"text",copyable:!1,width:"5%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"username",valueType:"text",copyable:!0,width:"9%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.group_name"}),dataIndex:"group_name",valueType:"text",copyable:!0,width:"9%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.last_login_ip"}),dataIndex:"last_login_ip",valueType:"text",copyable:!0,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.last_login_time"}),dataIndex:"last_login_time",valueType:"text",copyable:!1,width:"12%",render:function(F,u){return j().unix(u.last_login_time).format("YYYY-MM-DD HH:mm:ss")},search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.home"}),dataIndex:"home_dir",valueType:"text",copyable:!0,width:"12%",search:!1,ellipsis:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.shell"}),dataIndex:"shell",valueType:"text",copyable:!0,width:"12%",search:!1,ellipsis:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.users.info"}),dataIndex:"info",valueType:"text",copyable:!0,search:!1,ellipsis:!0}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(re.Z,{columns:m,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})})},vt=function(o){var n=o.dataSource,d=o.total,m=[{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.crontab.file_path"}),dataIndex:"path",valueType:"text",copyable:!0,width:"15%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"username"}),dataIndex:"user",valueType:"text",copyable:!0,width:"8%"},{title:"Minute",dataIndex:"minute",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"Hour",dataIndex:"hour",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"DoM",dataIndex:"day_of_month",valueType:"text",copyable:!1,width:"5%",tooltip:"Day of month",search:!1},{title:"Month",dataIndex:"month",valueType:"text",copyable:!1,width:"5%",search:!1},{title:"DoW",dataIndex:"day_of_week",valueType:"text",copyable:!0,width:"5%",tooltip:"Day of Week",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.crontab.command"}),dataIndex:"command",valueType:"text",copyable:!0,ellipsis:!0}];return(0,e.jsx)(re.Z,{columns:m,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},ht=function(o){var n=o.dataSource,d=o.total,m=[{title:"PID",dataIndex:"pid",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"type"}),dataIndex:"type",valueType:"text",copyable:!0,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"name"}),dataIndex:"name",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"container_name"}),dataIndex:"container_name",valueType:"text",copyable:!0,width:"10%"},{title:(0,e.jsx)(t.FormattedMessage,{id:"version"}),dataIndex:"version",valueType:"text",copyable:!1,width:"10%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.applications.listen_ports"}),dataIndex:"listen_addrs",valueType:"text",copyable:!1,width:"15%",ellipsis:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"uid"}),dataIndex:"uid",valueType:"text",copyable:!0,width:"5%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"cmdline"}),dataIndex:"cmdline",valueType:"text",copyable:!0,width:"25%",ellipsis:!0,search:!1}];return(0,e.jsx)(re.Z,{columns:m,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},xt=function(o){var n=o.dataSource,d=o.total,m=[{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.name"}),dataIndex:"name",valueType:"text",copyable:!0,width:"10%"},{title:"Size",dataIndex:"size",valueType:"text",copyable:!1,width:"5%",search:!1,sorter:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.refcount"}),dataIndex:"refcount",valueType:"text",copyable:!1,width:"4%",search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.kmods.used_by"}),dataIndex:"used_by",valueType:"text",copyable:!0,width:"20%",ellipsis:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"state"}),dataIndex:"state",valueType:"text",copyable:!1,width:"5%",valueEnum:{Live:{text:"Live",status:"Success"},Loading:{text:"Loading",status:"Default"}},filters:!0,search:!1},{title:(0,e.jsx)(t.FormattedMessage,{id:"addr"}),dataIndex:"addr",valueType:"text",copyable:!0,width:"15%",ellipsis:!0,search:!1}];return(0,e.jsx)(re.Z,{columns:m,options:!1,dataSource:n,search:{filterType:"light"},headerTitle:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.process.update_time"}),":",(0,e.jsxs)("span",{style:{color:"gray",fontWeight:"400",marginLeft:"10px",fontFamily:"unset"},children:[" ",n&&n.length>0?j().unix(n[0].update_time).format("YYYY-MM-DD HH:mm:ss"):"-"]})]}),pagination:{total:d,pageSize:10},toolbar:{settings:[{icon:(0,e.jsx)(se.Z,{}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}]}})},gt=function(o){var n,d,m,y,F,u,s,C,I,M,K,Z,U,D,S,Y,x,i,l,z,B,R,J,g,le,oe,H,L,v,b,c,Q,G,O,q,p,te,he,xe,ge,fe,je,ye,Fe,Me,be,Ze,X=o.setActiveKey,ne=o.setAppActiveKey,bt=(0,w.useState)([]),$e=k()(bt,2),a=$e[0],Zt=$e[1],St=(0,t.useParams)(),De=St.id,Ct=(0,w.useState)(!1),Ye=k()(Ct,2),ke=Ye[0],Pt=Ye[1];return(0,w.useEffect)(function(){var P=function(){var N=ee()(T()().mark(function Se(){var ce;return T()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(De){E.next=3;break}return V.ZP.error("AgentId Error"),E.abrupt("return");case 3:return E.prev=3,E.next=6,Oe(De);case 6:ce=E.sent,ce.code===0?Zt(ce.data):V.ZP.error(ce.message),E.next=13;break;case 10:E.prev=10,E.t0=E.catch(3),V.ZP.error("Error fetching data: ".concat(E.t0 instanceof Error?E.t0.message:"An unknown error occurred"));case 13:case"end":return E.stop()}},Se,null,[[3,10]])}));return function(){return N.apply(this,arguments)}}();P()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostinfo"}),hoverable:!0,bordered:!0,children:(0,e.jsxs)(f.vY,{labelStyle:{color:"black"},column:4,children:[(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostname"}),copyable:!0,children:(n=a.agent_info)===null||n===void 0?void 0:n.hostname}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv4lan"}),copyable:!0,children:(d=a.agent_info)===null||d===void 0?void 0:d.intranet_ipv4}),(0,e.jsx)(f.vY.Item,{title:"PID",copyable:!0,children:(m=a.agent_info)===null||m===void 0?void 0:m.pid}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.boottime"}),children:j().unix((y=a.agent_info)===null||y===void 0?void 0:y.boot_at).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.arch"}),copyable:!0,children:(F=a.agent_info)===null||F===void 0?void 0:F.arch}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv6lan"}),copyable:!0,children:(u=a.agent_info)===null||u===void 0?void 0:u.intranet_ipv6}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.connaddr"}),copyable:!0,children:(s=a.agent_info)===null||s===void 0?void 0:s.addr}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.latestheartbeat"}),children:j().unix((C=a.agent_info)===null||C===void 0?void 0:C.last_heartbeat_time).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.distro"}),copyable:!0,children:[(I=a.agent_info)===null||I===void 0?void 0:I.platform," ",(M=a.agent_info)===null||M===void 0?void 0:M.platform_family," ",(K=a.agent_info)===null||K===void 0?void 0:K.platform_version]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv4wan"}),copyable:!0,children:(Z=a.agent_info)===null||Z===void 0?void 0:Z.extranet_ipv4}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.uploadtps"}),children:(0,e.jsxs)("span",{children:[(U=a.agent_info)===null||U===void 0?void 0:U.tx_tps.toFixed(2)," ",(0,e.jsx)(ve.Z,{style:{color:"#1677FF"}})]})}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentstarttime"}),children:j().unix((D=a.agent_info)===null||D===void 0?void 0:D.start_at).format("YYYY-MM-DD HH:mm:ss")}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelversion"}),copyable:!0,children:(S=a.agent_info)===null||S===void 0?void 0:S.kernel_version}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.ipv6wan"}),copyable:!0,children:(Y=a.agent_info)===null||Y===void 0?void 0:Y.extranet_ipv6}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysinfo"}),children:[(x=a.agent_info)===null||x===void 0?void 0:x.cpu_num," Core /"," ",(((i=a.agent_info)===null||i===void 0?void 0:i.total_memory)/1024/1024/1024).toFixed(1)," GB"]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentversion"}),copyable:!0,children:(l=a.agent_info)===null||l===void 0?void 0:l.version}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.cpuname"}),copyable:!0,children:(z=a.agent_info)===null||z===void 0?void 0:z.cpu_name}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.labels"}),children:(0,e.jsxs)(Pe.Z,{children:[a.tags&&a.tags.length>0?a.tags.map(function(P,N){return(0,e.jsx)(de.Z,{color:"#E4F3E0",style:{color:"#199B00"},closable:!0,closeIcon:(0,e.jsx)(Ge.Z,{style:{color:"black"}}),onClose:function(){return""},children:P},N)}):"",(0,e.jsx)(Ue.Z,{style:{fontSize:"20px",verticalAlign:"middle",marginLeft:-8,marginBlockStart:-2}})]})}),(0,e.jsxs)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysload"}),children:[(B=a.agent_info)===null||B===void 0?void 0:B.load_1," / ",(R=a.agent_info)===null||R===void 0?void 0:R.load_5," / ",(J=a.agent_info)===null||J===void 0?void 0:J.load_15]}),(0,e.jsx)(f.vY.Item,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentstatus"}),valueEnum:{false:{text:(0,e.jsx)(t.FormattedMessage,{id:"offline"}),status:"Default"},true:{text:(0,e.jsx)(t.FormattedMessage,{id:"online"}),status:"Success"}},children:(g=a.agent_info)===null||g===void 0?void 0:g.online})]})}),(0,e.jsx)(Te.Z,{type:ke?"horizontal":"vertical"}),(0,e.jsxs)(A.Z,{ghost:!0,gutter:12,children:[(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.systemload"}),hoverable:!0,extra:(0,e.jsxs)(W.ZP,{type:"link",onClick:function(){return X("monitor")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(_.Z,{})]}),colSpan:20,style:{marginLeft:-6},bordered:!0,children:(0,e.jsxs)(h.Z.Group,{children:[(0,e.jsx)(h.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentcpu"}),value:(((le=(oe=a.agent_info)===null||oe===void 0?void 0:oe.cpu)!==null&&le!==void 0?le:0)*100).toFixed(2)+"%",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," 10%"]})},chart:(0,e.jsx)(ue.Z,{type:"circle",percent:((H=(L=a.agent_info)===null||L===void 0?void 0:L.cpu)!==null&&H!==void 0?H:0)*100/.1,size:65,format:function(){return null}}),chartPlacement:"left"}),(0,e.jsx)(h.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.agentmem"}),value:(((v=a.agent_info)===null||v===void 0?void 0:v.rss)/1024/1024).toFixed(2)+"MB",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," 250 MB"]})},chart:(0,e.jsx)(ue.Z,{type:"circle",percent:((b=a.agent_info)===null||b===void 0?void 0:b.rss)/1024/1024/250*100,size:65,format:function(N){return(N==null?void 0:N.toFixed(1))+"%"}}),chartPlacement:"left"}),(0,e.jsx)(h.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.syscpu"}),value:((c=(Q=a.agent_info)===null||Q===void 0?void 0:Q.sys_cpu)!==null&&c!==void 0?c:0).toFixed(2)+"%"},chart:(0,e.jsx)(ue.Z,{type:"circle",percent:(G=(O=a.agent_info)===null||O===void 0?void 0:O.sys_cpu)!==null&&G!==void 0?G:0,size:65,format:function(){return null}}),chartPlacement:"left"}),(0,e.jsx)(h.Z,{statistic:{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.sysmem"}),value:(((q=(p=a.agent_info)===null||p===void 0?void 0:p.sys_mem)!==null&&q!==void 0?q:0)*(((te=a.agent_info)===null||te===void 0?void 0:te.total_memory)/1024/1024/1024)/100).toFixed(2)+"GB",description:(0,e.jsxs)("span",{style:{color:"#8c8c8c"},children:[(0,e.jsx)(t.FormattedMessage,{id:"limit"})," ",(((he=(xe=a.agent_info)===null||xe===void 0?void 0:xe.total_memory)!==null&&he!==void 0?he:0)/1024/1024/1024).toFixed(1)," GB"]})},chart:(0,e.jsx)(ue.Z,{type:"circle",percent:(ge=a.agent_info)===null||ge===void 0?void 0:ge.sys_mem,size:65,format:function(N){return(N==null?void 0:N.toFixed(1))+"%"}}),chartPlacement:"left"})]})}),(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.securityalert"}),hoverable:!0,extra:(0,e.jsxs)(W.ZP,{type:"link",onClick:function(){return X("securityalert")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(_.Z,{})]}),style:{marginLeft:6},bordered:!0,children:(0,e.jsx)(h.Z.Group,{children:(0,e.jsx)(h.Z,{statistic:{title:"\u544A\u8B66\u603B\u6570",value:10,description:(0,e.jsx)(at.Z,{title:"\u5360\u6BD4",value:"61.5%"})},chartPlacement:"left"})})})]}),(0,e.jsx)(Te.Z,{type:ke?"horizontal":"vertical"}),(0,e.jsx)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.appoverview"}),hoverable:!0,extra:(0,e.jsxs)(W.ZP,{type:"link",onClick:function(){return X("appdetail")},children:[(0,e.jsx)(t.FormattedMessage,{id:"detail"}),(0,e.jsx)(_.Z,{})]}),children:(0,e.jsxs)(h.Z.Group,{gutter:16,children:[(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ne.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processes"})]}),statistic:{value:(a==null||(fe=a.app_overview)===null||fe===void 0?void 0:fe.process)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("processes"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(_e.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.networks"})]}),statistic:{value:(a==null||(je=a.app_overview)===null||je===void 0?void 0:je.network)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("networks"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ve.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.users"})]}),statistic:{value:(a==null||(ye=a.app_overview)===null||ye===void 0?void 0:ye.network)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("user"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Je.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.crontabs"})]}),statistic:{value:(a==null||(Fe=a.app_overview)===null||Fe===void 0?void 0:Fe.crontab)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("crontabs"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Qe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.applications"})]}),statistic:{value:(a==null||(Me=a.app_overview)===null||Me===void 0?void 0:Me.app)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("applications"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(Xe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelmodules"})]}),statistic:{value:(a==null||(be=a.app_overview)===null||be===void 0?void 0:be.kmod)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("kmods"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsxs)("span",{children:[(0,e.jsx)(qe.Z,{style:{marginRight:"8px"}}),(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.containers"})]}),statistic:{value:(a==null||(Ze=a.app_overview)===null||Ze===void 0?void 0:Ze.container)||0},style:{backgroundColor:"#f0f0f0"},extra:(0,e.jsx)(W.ZP,{type:"link",onClick:function(){ne("containers"),X("appdetail")},children:(0,e.jsx)(_.Z,{})}),hoverable:!0})]})})]})},ft=function(o){var n=o.activeKey,d=o.setActiveKey,m=(0,t.useParams)(),y=m.id,F=(0,w.useState)([]),u=k()(F,2),s=u[0],C=u[1],I=function(){var K=ee()(T()().mark(function Z(U){var D,S;return T()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(C([]),y){x.next=4;break}return V.ZP.error("AgentId Error"),x.abrupt("return");case 4:return x.prev=4,D={agent_id:y,type:U},x.next=8,Be(D);case 8:S=x.sent,C(S==null?void 0:S.data),x.next=15;break;case 12:x.prev=12,x.t0=x.catch(4),V.ZP.error("Error fetching data: ".concat(x.t0 instanceof Error?x.t0.message:"An unknown error occurred"));case 15:case"end":return x.stop()}},Z,null,[[4,12]])}));return function(U){return K.apply(this,arguments)}}(),M=function(Z){d(Z),I(Z)};return(0,w.useEffect)(function(){I("plugins")},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(A.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostdetail"}),tabs:{type:"card",activeKey:n,onChange:M},tooltip:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.hostdetail.tooltip"}),extra:(0,e.jsx)(W.ZP,{type:"default",icon:(0,e.jsx)(se.Z,{}),children:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.pull"})}),hoverable:!0,children:[(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugins"}),children:(0,e.jsx)(ut,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"plugins"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.processes"}),children:(0,e.jsx)(ct,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"processes"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.networks"}),children:(0,e.jsx)(pt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"sockets"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.users"}),children:(0,e.jsx)(mt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"users"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.crontabs"}),children:(0,e.jsx)(vt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"crontabs"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.applications"}),children:(0,e.jsx)(ht,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"applications"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.kernelmodules"}),children:(0,e.jsx)(xt,{dataSource:(s==null?void 0:s.assets)||[],total:(s==null?void 0:s.total)||0})},"kmods"),(0,e.jsx)(A.Z.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.containers"})},"containers")]})})},jt=rt.default.RangePicker;j().extend(dt()),j().extend(lt()),j().tz.setDefault("Asia/Shanghai");var yt=function(){var o=(0,w.useState)([]),n=k()(o,2),d=n[0],m=n[1],y=(0,w.useState)([j()().subtract(60,"minutes"),j()()]),F=k()(y,2),u=F[0],s=F[1],C=(0,t.useParams)(),I=C.id,M=(d||[]).map(function(i){var l,z,B,R,J,g;return{timestamp:j()(i==null?void 0:i.timestamp).toDate(),agent_cpu:((i==null||(l=i.metrics)===null||l===void 0?void 0:l.agent_cpu)||0)*100,agent_mem:((i==null||(z=i.metrics)===null||z===void 0?void 0:z.agent_mem)||0)/1024/1024,sys_cpu:(i==null||(B=i.metrics)===null||B===void 0?void 0:B.sys_cpu)||0,sys_mem:(i==null||(R=i.metrics)===null||R===void 0?void 0:R.sys_mem)||0,tx_speed:(i==null||(J=i.metrics)===null||J===void 0?void 0:J.tx_speed)||0,tx_tps:(i==null||(g=i.metrics)===null||g===void 0?void 0:g.tx_tps)||0}}),K={data:M,xField:"timestamp",yField:"agent_cpu",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:10,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},forceFit:!0,responsive:!0,height:200},Z={data:M,xField:"timestamp",yField:"agent_mem",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"MB")}},style:{lineWidth:2},scale:{y:{domainMax:250,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"MB")}}},height:200},U={data:M,xField:"timestamp",yField:"sys_cpu",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:100,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},height:200},D={data:M,xField:"timestamp",yField:"sys_mem",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"%")}},style:{lineWidth:2},scale:{y:{domainMax:100,domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"%")}}},height:200},S={data:M,xField:"timestamp",yField:"tx_speed",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2),"KB/S")}},style:{lineWidth:2},scale:{y:{domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l,"KB/S")}}},height:200},Y={data:M,xField:"timestamp",yField:"tx_tps",tooltip:{channel:"y",valueFormatter:function(l){return"".concat(l.toFixed(2))}},style:{lineWidth:2},scale:{y:{domainMin:0}},axis:{x:{line:!0,arrow:!1,lineLineWidth:1},y:{line:!0,arrow:!1,lineLineWidth:1,labelFormatter:function(l){return"".concat(l)}}},height:200},x=function(){var i=ee()(T()().mark(function l(){var z,B,R;return T()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(console.log(u,I),!(!u[0]||!u[1]||!I)){g.next=3;break}return g.abrupt("return");case 3:return z=j()(u[0]).tz("Asia/Shanghai").toISOString(),B=j()(u[1]).tz("Asia/Shanghai").toISOString(),g.prev=5,g.next=8,(0,t.request)("/api/v1/metric",{params:{start:z,end:B,agent_id:I}});case 8:R=g.sent,m(R.data),g.next=15;break;case 12:g.prev=12,g.t0=g.catch(5),console.error("Error fetching data:",g.t0);case 15:case"end":return g.stop()}},l,null,[[5,12]])}));return function(){return i.apply(this,arguments)}}();return(0,w.useEffect)(function(){x()},[u]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(A.Z,{extra:(0,e.jsx)(jt,{onChange:function(l){return s(l)},defaultValue:[u[0],u[1]],showTime:!0}),title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.systemperformance"}),headerBordered:!0,children:[(0,e.jsxs)(h.Z.Group,{gutter:16,ghost:!0,children:[(0,e.jsx)(h.Z,{title:"Agent CPU",chart:(0,e.jsx)(ie.Z,ae()({},K)),bordered:!0,hoverable:!0}),(0,e.jsx)(h.Z,{title:"System CPU",chart:(0,e.jsx)(ie.Z,ae()({},U)),bordered:!0,hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadspeed"}),chart:(0,e.jsx)(ie.Z,ae()({},S)),bordered:!0,hoverable:!0})]}),(0,e.jsx)("br",{}),(0,e.jsxs)(h.Z.Group,{gutter:16,ghost:!0,children:[(0,e.jsx)(h.Z,{title:"Agent MEM",chart:(0,e.jsx)(ie.Z,ae()({},Z)),bordered:!0,hoverable:!0}),(0,e.jsx)(h.Z,{title:"System MEM",chart:(0,e.jsx)(ie.Z,ae()({},D)),bordered:!0,hoverable:!0}),(0,e.jsx)(h.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.plugin.uploadtps"}),chart:(0,e.jsx)(ie.Z,ae()({},Y)),bordered:!0,hoverable:!0})]})]})})},Ft=function(){var o=(0,t.useIntl)(),n=(0,w.useState)("basic"),d=k()(n,2),m=d[0],y=d[1],F=(0,w.useState)("plugins"),u=k()(F,2),s=u[0],C=u[1],I=function(Z){y(Z)},M=[{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.basicinfo"}),key:"basic"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.securityalert"}),key:"securityalert",disabled:!0},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.appdetail"}),key:"appdetail"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.monitor"}),key:"monitor"},{tab:(0,e.jsx)(t.FormattedMessage,{id:"assetcenter.hostdetail.operationlogs"}),key:"operationlogs",disabled:!0}];return(0,e.jsx)("div",{style:{background:"#F5F7FA"},children:(0,e.jsxs)(He._z,{header:{ghost:!0,title:void 0,style:{backgroundColor:"white",marginBlockEnd:"20px"}},onTabChange:I,tabActiveKey:m,tabList:M,breadcrumb:{routes:[{path:"/assetcenter",breadcrumbName:o.formatMessage({id:"menu.assetcenter"})},{path:"/hosts",breadcrumbName:o.formatMessage({id:"menu.assetcenter.hosts"})}]},children:[m==="basic"&&(0,e.jsx)(gt,{setActiveKey:y,setAppActiveKey:C}),m==="monitor"&&(0,e.jsx)(yt,{}),m==="appdetail"&&(0,e.jsx)(ft,{activeKey:s,setActiveKey:C})]})})},Mt=Ft}}]);
