"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[391],{21383:function(W,O,e){e.r(O);var j=e(97857),_=e.n(j),b=e(5574),u=e.n(b),C=e(12121),i=e(38345),d=e(56346),y=e(48555),M=e(83186),E=e(63922),T=e(49748),c=e(67294),B=e(30381),v=e.n(B),R=e(80854),s=e(85893),I=[{title:"\u4E3B\u673A\u540D\u79F0",dataIndex:"hostname",copyable:!0,ellipsis:!0,formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u5E73\u53F0",dataIndex:"platform",ellipsis:!0,search:!1,formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderText:function(p){return p===null?"invalid":p.indexOf("Windows")!=-1?"Windows":p.replace(/^\S/,function(l){return l.toUpperCase()})}},{disable:!0,title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,width:"10%",valueEnum:{true:{text:"\u5728\u7EBF",status:"Success"},false:{text:"\u79BB\u7EBF",status:"Error"}}},{title:"\u5730\u5740",dataIndex:"addr",copyable:!0,ellipsis:!0,formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"create_at",sorter:!0,search:!1,hideInSearch:!0,renderText:function(p){var l=new Date(p*1e3);return v()(l).utc(!0).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:"10%",render:function(p,l,D,h){return[(0,s.jsx)("a",{href:"host/"+l.agent_id,rel:"noopener noreferrer",children:"\u8BE6\u60C5"},"view")]}}],g=function(){var p=(0,c.useState)(!1),l=u()(p,2),D=l[0],h=l[1],r=(0,c.useState)(0),n=u()(r,2),o=n[0],a=n[1],t=(0,c.useState)(0),x=u()(t,2),U=x[0],L=x[1],K=(0,R.useRequest)(T.Ek),f=K.data;(0,c.useEffect)(function(){a((f==null?void 0:f.total)||0),L((f==null?void 0:f.online)||0)},[f]);var S=(0,c.useRef)();return(0,s.jsxs)(C._z,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(y.Z,{onResize:function(m){h(m.width<596)},children:(0,s.jsxs)(i.Z.Group,{direction:D?"column":"row",children:[(0,s.jsx)(i.Z,{layout:"center",children:(0,s.jsx)(M.Z,{title:"\u5728\u7EBF\u4E3B\u673A",value:U,precision:0,prefix:(0,s.jsx)(E.Z,{color:"green"})})}),(0,s.jsx)(i.Z.Divider,{type:D?"horizontal":"vertical"}),(0,s.jsx)(i.Z,{layout:"center",children:(0,s.jsx)(M.Z,{title:"\u79BB\u7EBF\u4E3B\u673A",value:o-U,precision:0,prefix:(0,s.jsx)(E.Z,{color:"gray"})})})]})},"resize-observer")}),(0,s.jsx)("p",{}),(0,s.jsx)(d.Z,{columns:I,actionRef:S,cardBordered:!0,request:T.Zs,editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",onChange:function(m){console.log("value: ",m)}},rowKey:"agent_id",search:{labelWidth:"auto"},options:!1,form:{syncToUrl:function(m,H){return H==="get"?_()(_()({},m),{},{created_at:[m.startTime,m.endTime]}):m}},pagination:{pageSize:10,onChange:function(m){return console.log(m)}},dateFormatter:"string",headerTitle:"\u4E3B\u673A\u5217\u8868"})]})};O.default=g},49748:function(W,O,e){e.d(O,{Ek:function(){return M},LH:function(){return p},Nh:function(){return D},UV:function(){return I},Zs:function(){return T},nc:function(){return R},pi:function(){return B},sk:function(){return P}});var j=e(15009),_=e.n(j),b=e(97857),u=e.n(b),C=e(99289),i=e.n(C),d=e(80854),y=e(55648);function M(r){return E.apply(this,arguments)}function E(){return E=i()(_()().mark(function r(n){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/v1/grpc/conn/count",u()({method:"GET"},n||{})));case 1:case"end":return a.stop()}},r)})),E.apply(this,arguments)}function T(r,n){return c.apply(this,arguments)}function c(){return c=i()(_()().mark(function r(n,o){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/grpc/conn/basic",u()({method:"GET",params:u()({},n)},o||{})));case 1:case"end":return t.stop()}},r)})),c.apply(this,arguments)}function B(r,n){return v.apply(this,arguments)}function v(){return v=i()(_()().mark(function r(n,o){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/grpc/conn/stat",u()({method:"GET",params:u()({},n)},o||{})));case 1:case"end":return t.stop()}},r)})),v.apply(this,arguments)}function R(r,n){return s.apply(this,arguments)}function s(){return s=i()(_()().mark(function r(n,o){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/plugin/send",u()({method:"POST",data:JSON.stringify({name:n.name,pversion:n.pversion,agent_id:n.agent_id,action:y.aU}),headers:{"Content-Type":"application/json"}},o||{})));case 1:case"end":return t.stop()}},r)})),s.apply(this,arguments)}function I(r){return g.apply(this,arguments)}function g(){return g=i()(_()().mark(function r(n){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/v1/plugin/list",u()({method:"GET"},n||{})));case 1:case"end":return a.stop()}},r)})),g.apply(this,arguments)}function P(r){return(0,d.request)("/api/v1/plugin/delete",u()({method:"GET"},r||{}))}function p(r,n){return l.apply(this,arguments)}function l(){return l=i()(_()().mark(function r(n,o){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)(n,u()({},o||{})));case 1:case"end":return t.stop()}},r)})),l.apply(this,arguments)}function D(r,n){return h.apply(this,arguments)}function h(){return h=i()(_()().mark(function r(n,o){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/asset/get",u()({method:"GET",params:n},o||{})));case 1:case"end":return t.stop()}},r)})),h.apply(this,arguments)}}}]);
